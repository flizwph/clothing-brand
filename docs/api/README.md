# API Documentation

## Содержание
- [Общая информация](general-info.md)
- [Контроллер аутентификации](auth-controller.md)
- [Контроллер пользователей](user-controller.md)
- [Контроллер заказов](order-controller.md)
- [Контроллер товаров](product-controller.md)
- [Контроллер баланса](balance-controller.md)
- [Контроллер Discord](discord-controller.md)
- [Контроллеры подписок](subscription-controller.md)
- [Сравнение API аутентификации v1 и v2](auth-comparison.md)
- [Руководство по миграции с v1 на v2](auth-migration.md)

## Краткое описание

Документация API разделена на несколько модулей в соответствии с функциональными контроллерами:

1. **Общая информация**: Обзор проекта, структура API, общие принципы работы с API
2. **Контроллер аутентификации**: Управление регистрацией, авторизацией и токенами
3. **Контроллер пользователей**: Управление профилем пользователя
4. **Контроллер заказов**: Создание и управление заказами
5. **Контроллер товаров**: Получение информации о товарах
6. **Контроллер баланса**: Управление балансом и просмотр истории транзакций
7. **Контроллер Discord**: Верификация и привязка Discord-аккаунтов
8. **Контроллеры подписок**: Управление подписками пользователей
9. **Сравнение API v1/v2**: Различия между версиями API аутентификации
10. **Миграция с v1 на v2**: Руководство по переходу на новую версию API

## Для разработчиков фронтенда

При интеграции с API обратите внимание на следующие моменты:

1. Все запросы к защищенным эндпоинтам должны включать JWT токен в заголовке
   `Authorization: Bearer {access_token}`

2. Актуальная версия API - `v2`, используйте соответствующие эндпоинты (например, `/api/auth/v2/login`)

3. Для обработки ошибок опирайтесь на HTTP коды ответа и проверяйте тело ответа при получении ошибок

4. При истечении срока действия токена используйте refresh-токен для получения нового

5. При тестировании API обратите внимание на файлы с тестовыми запросами в корне проекта:
   - `auth-api-tests.http`
   - `auth-api-tests-updated.http`
   - `balance-api-tests.http`
   - `complete-auth-test.http` 